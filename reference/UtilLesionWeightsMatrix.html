<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Determine lesion weights distribution 2D matrix — UtilLesionWeightsMatrix • RJafroc</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Determine lesion weights distribution 2D matrix — UtilLesionWeightsMatrix"><meta property="og:description" content="Determine the lesion weights distribution 2D matrix of a dataset or 
   manually specify the lesion weights distribution 2D matrix."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RJafroc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Determine lesion weights distribution 2D matrix</h1>
    
    <div class="hidden name"><code>UtilLesionWeightsMatrix.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Determine the lesion weights distribution 2D matrix of a dataset or 
   manually specify the lesion weights distribution 2D matrix.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">UtilLesionWeightsMatrixDataset</span><span class="op">(</span><span class="va">dataset</span>, relWeights <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">UtilLesionWeightsMatrixLesDistr</span><span class="op">(</span><span class="va">lesDistr</span>, relWeights <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>dataset</dt>
<dd><p>A dataset object.</p></dd>


<dt>relWeights</dt>
<dd><p>The relative weights of the lesions: a unit sum vector of 
length equal to the maximum number of lesions per dis. case. For example, 
<code>c(0.2, 0.4, 0.1, 0.3)</code> means that on cases with one lesion 
the weight of the lesion is unity, on cases with two 
lesions the ratio of the weight of the first lesion to that of the second 
lesion is 0.2:0.4, i.e., lesion 2 is twice as important as lesion 1. 
On cases with 4 lesions the weights are in the ratio 0.2:0.4:0.1:0.3.
The default is zero, in which case equal lesion weights are assumed.</p></dd>


<dt>lesDistr</dt>
<dd><p>A unit sum vector of length equal to the maximum number of 
lesions per diseased case, specifying the relative frequency of lesions
per dis. case in the dataset. For example, <code>c(0.8, 0.15, 0.05)</code> specifies
a dataset in which 80 percent of the dis. cases have one lesion per dis. case,
15 percent have two lesions per dis. case and 5 percent have three lesions per
dis. case. As another example, <code>c(0.8, 0.15, 0, 0.05)</code> specifies
a dataset in which 80 percent of the dis. cases have one lesion per dis. case,
15 percent have two lesions per dis. case, there are no cases with three 
lesions per dis. case and 5 percent have four lesions per dis. case.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>lesWghtDistr The 2D lesion weights distribution matrix. The first 
   column enumerates the number of lesions per case, while the remaining 
   columns contain the weights. 
   Missing values are filled with <code>-Inf</code>. Not to be 
   confused with the <code>lesionWeight</code> list member in an FROC dataset, 
   which enumerates the weights of lesions on <b>individual</b> cases.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Two characteristics of an FROC dataset, apart from the 
   ratings, affect the FOM: the distribution of lesion per case and the 
   distribution of lesion weights. This function addresses the weights. 
   The distribution of lesions is addressed in <a href="UtilLesionDistrVector.html">UtilLesionDistrVector</a>. 
   See 
   <a href="PlotRsmOperatingCharacteristics.html">PlotRsmOperatingCharacteristics</a> for a function that depends on 
   <code>lesWghtDistr</code>. 
   The underlying assumption is that lesion 1 is the same type across all 
   diseased cases, lesion 2 is the same type across all diseased cases, 
   ..., etc. This allows assignment of weights independent of the case index.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">UtilLesionWeightsMatrixDataset</span> <span class="op">(</span><span class="va">dataset01</span><span class="op">)</span> <span class="co"># FROC data</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    1  1.0 -Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    2  0.5  0.5</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##      [,1] [,2] [,3]</span></span></span>
<span class="r-in"><span><span class="co">##[1,]    1  1.0 -Inf</span></span></span>
<span class="r-in"><span><span class="co">##[2,]    2  0.5  0.5</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">UtilLesionWeightsMatrixDataset</span> <span class="op">(</span><span class="va">dataset02</span><span class="op">)</span> <span class="co"># ROC data</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    1    1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##      [,1] [,2]</span></span></span>
<span class="r-in"><span><span class="co">##[1,]    1  1</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Example 1: dataset with 1 to 4 lesions per case, with frequency as per first argument</span></span></span>
<span class="r-in"><span><span class="fu">UtilLesionWeightsMatrixLesDistr</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">0.2</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.1</span>, <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1]       [,2]       [,3]       [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    1 1.00000000       -Inf       -Inf -Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    2 0.33333333 0.66666667       -Inf -Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    3 0.28571429 0.57142857 0.14285714 -Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    4 0.20000000 0.40000000 0.10000000  0.3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##       [,1]  [,2]      [,3]      [,4]   [,5]</span></span></span>
<span class="r-in"><span><span class="co">##[1,]    1 1.0000000      -Inf      -Inf -Inf </span></span></span>
<span class="r-in"><span><span class="co">##[2,]    2 0.3333333 0.6666667      -Inf -Inf</span></span></span>
<span class="r-in"><span><span class="co">##[3,]    3 0.2857143 0.5714286 0.1428571 -Inf</span></span></span>
<span class="r-in"><span><span class="co">##[4,]    4 0.2000000 0.4000000 0.1000000  0.3</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Explanation </span></span></span>
<span class="r-in"><span><span class="co">##&gt; c(0.2)/sum(c(0.2))</span></span></span>
<span class="r-in"><span><span class="co">##[1] 1 ## (weights for cases with 1 lesion)</span></span></span>
<span class="r-in"><span><span class="co">##&gt; c(0.2, 0.4)/sum(c(0.2, 0.4))</span></span></span>
<span class="r-in"><span><span class="co">##[1] 0.3333333 0.6666667 ## (weights for cases with 2 lesions)</span></span></span>
<span class="r-in"><span><span class="co">##&gt; c(0.2, 0.4, 0.1)/sum(c(0.2, 0.4, 0.1))</span></span></span>
<span class="r-in"><span><span class="co">##[1] 0.2857143 0.5714286 0.1428571 ## (weights for cases with 3 lesions)</span></span></span>
<span class="r-in"><span><span class="co">##&gt; c(0.2, 0.4, 0.1, 0.3)/sum(c(0.2, 0.4, 0.1, 0.3))</span></span></span>
<span class="r-in"><span><span class="co">##[1] 0.2000000 0.4000000 0.1000000  0.3 ## (weights for cases with 4 lesions)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Example2 : dataset with *no* cases with 3 lesions per case</span></span></span>
<span class="r-in"><span><span class="fu">UtilLesionWeightsMatrixLesDistr</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.7</span>, <span class="fl">0.0</span>, <span class="fl">0.2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.4</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>, <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1]       [,2]       [,3]       [,4] [,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    1 1.00000000       -Inf       -Inf -Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    2 0.57142857 0.42857143       -Inf -Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    3 0.44444444 0.33333333 0.22222222 -Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    4 0.40000000 0.30000000 0.20000000  0.1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##       [,1]  [,2]      [,3]    [,4]</span></span></span>
<span class="r-in"><span><span class="co">##[1,]    1 1.0000000      -Inf  -Inf</span></span></span>
<span class="r-in"><span><span class="co">##[2,]    2 0.5714286 0.4285714  -Inf</span></span></span>
<span class="r-in"><span><span class="co">##[3,]    4 0.5000000 0.3750000 0.125</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Explanation: note that row with 3 lesions per case does not occur </span></span></span>
<span class="r-in"><span><span class="co">##&gt; c(0.4)/sum(c(0.4))</span></span></span>
<span class="r-in"><span><span class="co">##[1] 1 ## (weights for cases with 1 lesion)</span></span></span>
<span class="r-in"><span><span class="co">##&gt; c(0.4, 0.3)/sum(c(0.4, 0.3))</span></span></span>
<span class="r-in"><span><span class="co">##[1] 0.5714286 0.4285714 ## (weights for cases with 2 lesions)</span></span></span>
<span class="r-in"><span><span class="co">##&gt; c(0.4, 0.3, 0.1)/sum(c(0.4, 0.3, 0.1))</span></span></span>
<span class="r-in"><span><span class="co">##[1] 0.500 0.375 0.125 ## (weights for cases with 4 lesions)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dev Chakraborty, Xuetong Zhai.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

