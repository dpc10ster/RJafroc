<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>RSM predicted operating characteristics, ROC pdfs and different FOMs
   possible with FROC data — PlotRsmOperatingCharacteristics • RJafroc</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="RSM predicted operating characteristics, ROC pdfs and different FOMs
   possible with FROC data — PlotRsmOperatingCharacteristics" />

<meta property="og:description" content="Visualize predicted ROCs, AFROCs, wAFROCs, FROCs and pdfs 
   (probability density functions of highest ratings, 
   for non-diseased and diseased cases), for up to 2 sets of search model parameters.
   This function is useful as an instructional tool towards understanding the RSM." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RJafroc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/QuickStartDBMH.html">Quick Start: Running DBM analysis</a>
    </li>
    <li>
      <a href="../articles/QuickStartDBMHExcelOutput.html">Quick Start: DBMH-ORH Analysis Excel Output</a>
    </li>
    <li>
      <a href="../articles/SampleSizeROC.html">Sample Size ROC</a>
    </li>
    <li>
      <a href="../articles/cbmPlots.html">CBM plots</a>
    </li>
    <li>
      <a href="../articles/degenerateROCs.html">Degenerate datasets in the binormal model</a>
    </li>
    <li>
      <a href="../articles/improperROCs.html">Improper ROCs</a>
    </li>
    <li>
      <a href="../articles/metzEqn36.html">PROPROC ROCs and pdfs</a>
    </li>
    <li>
      <a href="../articles/proprocROCs.html">PROPROC ROCs and pdfs</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>RSM predicted operating characteristics, ROC pdfs and different FOMs
   possible with FROC data</h1>
    
    <div class="hidden name"><code>PlotRsmOperatingCharacteristics.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Visualize predicted ROCs, AFROCs, wAFROCs, FROCs and pdfs 
   (probability density functions of highest ratings, 
   for non-diseased and diseased cases), for up to 2 sets of search model parameters.
   This function is useful as an instructional tool towards understanding the RSM.</p>
    
    </div>

    <pre class="usage"><span class='fu'>PlotRsmOperatingCharacteristics</span> (<span class='no'>mu</span>, <span class='no'>lambda</span>, <span class='no'>nu</span>, <span class='no'>lesDistr</span>,
   <span class='no'>lesionWeights</span>, <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"ALL"</span>, <span class='kw'>legendPosition</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>0</span>),
   <span class='kw'>legendDirection</span> <span class='kw'>=</span> <span class='st'>"horizontal"</span>, <span class='kw'>legendJustification</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>1</span>),
   <span class='kw'>nlfRange</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>llfRange</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>nlfAlpha</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,<span class='kw'>myNegInf</span> <span class='kw'>=</span> -<span class='fl'>3</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mu</th>
      <td><p>Array, max length 2. The mean(s) of the Gaussian distribution(s) for the 
ratings of latent LLs (continuous ratings of lesions that are found by the 
observer's search mechanism)</p></td>
    </tr>
    <tr>
      <th>lambda</th>
      <td><p>Array, max length 2. The Poisson distribution <em>intrinsic</em> 
parameter(s), which model the random numbers of latent NLs (suspicious 
regions that do not correspond to actual lesions) per case, for up to two 
treatments. The corresponding <em>physical</em> parameters are <code>lambda/mu</code>. 
Two conversion functions are provided: <a href='UtilIntrinsic2PhysicalRSM.html'>UtilIntrinsic2PhysicalRSM</a> and 
<a href='UtilPhysical2IntrinsicRSM.html'>UtilPhysical2IntrinsicRSM</a>.</p></td>
    </tr>
    <tr>
      <th>nu</th>
      <td><p>Array, max length 2. The binomial distribution success probability 
<em>intrinsic</em> parameters, which model the random numbers of latent LLs 
(suspicious regions that 
correspond to actual lesions) per diseased case for up to two treatments; 
the corresponding <em>physical</em> parameter is <code>1 - exp(nu*mu)</code>, 
the success probability of the binomial distribution(s).</p></td>
    </tr>
    <tr>
      <th>lesDistr</th>
      <td><p>Array, [1:maxLL,1:2]. The probability mass function of the 
lesion distribution for diseased cases. The first column contains the 
actual numbers of lesions per case. 
The second column contains the fraction of diseased cases with the number 
of lesions specified in the first column. 
The second column must sum to unity.</p></td>
    </tr>
    <tr>
      <th>lesionWeights</th>
      <td><p>Array, [1:maxLL,1:maxLL]. The weights (or clinical importances) 
of the lesions. The 1st row contains the weight of the lesion on cases
with one lesion only, necessarily 1; the remaining elements of the row are 
<code>-Inf</code>. The 2nd row contains the weights of the 2 lesions on cases with 
2 lesions only, the remaining elements of the row, if any, are <code>-Inf</code>. 
Excluding the <code>-Inf</code>, each row must sum to 1. 
The default is equal weighting, e.g., weights are 1/3, 1/3, 1/3 on row 3.
This parameter is not to be confused with the lesionWeights field in an FROC
dataset with enumerates the weights of lesions on individual cases.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>The type of operating characteristic desired: can be "<code>ROC</code>", 
"<code>AFROC</code>", "<code>wAFROC</code>", "<code>FROC</code>" or "<code>pdfs</code>" or "<code>ALL</code>". 
The default is "<code>ALL</code>".</p></td>
    </tr>
    <tr>
      <th>legendPosition</th>
      <td><p>The positioning of the legend: "<code>right</code>", "<code>left</code>", 
"<code>top</code>" or "<code>bottom</code>". Use "<code>none</code>" to suppress the legend.</p></td>
    </tr>
    <tr>
      <th>legendDirection</th>
      <td><p>Allows control on the direction of the legend; 
<code>"horizontal"</code>, the default, or <code>"vertical"</code></p></td>
    </tr>
    <tr>
      <th>legendJustification</th>
      <td><p>Where to position the legend, default 
is bottom right corner c(0,1)</p></td>
    </tr>
    <tr>
      <th>nlfRange</th>
      <td><p><b>This applies to FROC plot only</b>. The x-axis range, e.g., c(0,2), 
for FROC plot. Default is "<code>NULL</code>", which means the maximum NLF range, 
as determined by the data.</p></td>
    </tr>
    <tr>
      <th>llfRange</th>
      <td><p><b>This applies to FROC plot only</b>. The y-axis range, e.g., c(0,1), 
for FROC plot. Default is "<code>NULL</code>", which means the maximum LLF range,
as determined by the data.</p></td>
    </tr>
    <tr>
      <th>nlfAlpha</th>
      <td><p>Upper limit of the integrated area under the FROC plot. 
Default is "<code>NULL</code>", which means the maximum NLF range is used 
(i.e., lambda/mu). Attempt to integrate outside the maximum NLF will 
generate an error.</p></td>
    </tr>
    <tr>
      <th>myNegInf</th>
      <td><p>How close one approaches the end-point; the default is -3. 
This is used in the code to demonstrate continuity of the slope of the 
ROC at the end point; Online Appendix 17.H.3</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of 6 elements containing six <span class="pkg">ggplot2</span> objects 
   (ROCPlot, AFROCPlot wAFROCPlot, FROCPlot and PDFPlot) and two area measures 
   (each of which can have up to two elements), the area under the search 
   model predicted ROC curves in up to two treatments, the area under the search 
   model predicted AFROC curves in up to two treatments, the area under the 
   search model predicted wAFROC curves in up to two treatments, the area under 
   the search model predicted FROC curves in up to two treatments.</p><ul>
<li><p><code>ROCPlot</code>   The predicted ROC plots</p></li>
<li><p><code>AFROCPlot</code>     The predicted AFROC plots</p></li>
<li><p><code>wAFROCPlot</code>    The predicted wAFROC plots</p></li>
<li><p><code>FROCPlot</code>  The predicted FROC plots</p></li>
<li><p><code>PDFPlot</code>   The predicted pdf plots</p></li>
<li><p><code>aucROC</code>    The predicted ROC AUCs</p></li>
<li><p><code>aucAFROC</code>  The predicted AFROC AUCs</p></li>
<li><p><code>aucwAFROC</code> The predicted wAFROC AUCs</p></li>
<li><p><code>aucFROC</code>   The predicted FROC AUCs</p></li>
</ul>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>RSM is the Radiological Search Model described in the book.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>For <code>lesDistr</code>, the sum over the second column must equal one. 
   If all cases contain same number of lesions, simply supply this number instead of 
   the matrix. If the argument is missing, the default value 
   of one lesion per diseased case applies.</p>  
<p>In <code>lesionWeights</code>, the sum over each row (excluding <code>-Inf</code>) must be one. 
   The value <code>-Inf</code> should be assigned if the corresponding lesion 
   does not exist. Equal lesion weighting is applied if this argument is missing.</p>
<p>For example, if the maximum number of distinct lesion configurations per case 
   is 3 (e.g., 1, 2 and 4, implying there are no cases with 3 lesions), the 
   first column of <code>lesDistr</code> will be c(1,2,4). The second column might be
   c(0.8, 0.15, 0.05), which sums to one, meaning 80% of cases have only one 
   lesion, 15% have two lesions and 5% have three lesions. The 
   <code>lesionWeights</code> matrix will be 
   <code>[1:3,1:3]</code>, where each row will sum to one (excluding negative infinities).</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Chakraborty DP (2006) A search model and figure of merit for observer data acquired according to the free-response 
paradigm, Phys Med Biol 51, 3449-3462.</p>
<p>Chakraborty DP (2006) ROC Curves predicted by a model of visual search, Phys Med Biol 51, 3463--3482.</p>
<p>Chakraborty, DP, Yoon, HJ (2008) Operating characteristics predicted by models for diagnostic tasks involving lesion localization, Med Phys, 35:2, 435.</p>
<p>Chakraborty DP (2017) <em>Observer Performance Methods for Diagnostic Imaging - Foundations, 
Modeling, and Applications with R-Based Examples</em> (CRC Press, Boca Raton, FL). 
<a href='https://www.crcpress.com/Observer-Performance-Methods-for-Diagnostic-Imaging-Foundations-Modeling/Chakraborty/p/book/9781482214840'>https://www.crcpress.com/Observer-Performance-Methods-for-Diagnostic-Imaging-Foundations-Modeling/Chakraborty/p/book/9781482214840</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Following example is for mu = 2, lambda = 1, nu = 0.6, in one treatment and   </span>
<span class='co'>## mu = 3, lambda = 1.5, nu = 0.8, in the other treatment. 20% of the diseased </span>
<span class='co'>## cases have a single lesion, 40% have two lesions, 10% have 3 lesions, </span>
<span class='co'>## and 30% have 4 lesions.  </span>
<span class='no'>lesDistr</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/cbind'>rbind</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>0.2</span>), <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>2</span>, <span class='fl'>0.4</span>), <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>3</span>, <span class='fl'>0.1</span>), <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>4</span>, <span class='fl'>0.3</span>))

<span class='co'>## On cases with one lesion the weights are 1, on cases with 2 lesions the weights</span>
<span class='co'>## are 0.4 and 0.6, on cases with three lesions the weights are 0.2, 0.3 and 0.5, and</span>
<span class='co'>## on cases with 4 lesions the weights are 0.3, 0.4, 0.2 and 0.1: </span>
<span class='no'>lesionWeights</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/cbind'>rbind</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>1.0</span>, -<span class='fl'>Inf</span>, -<span class='fl'>Inf</span>, -<span class='fl'>Inf</span>),
                       <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0.4</span>,  <span class='fl'>0.6</span>, -<span class='fl'>Inf</span>, -<span class='fl'>Inf</span>),
                       <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0.2</span>,  <span class='fl'>0.3</span>,  <span class='fl'>0.5</span>, -<span class='fl'>Inf</span>),
                       <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0.3</span>,  <span class='fl'>0.4</span>, <span class='fl'>0.2</span>,  <span class='fl'>0.1</span>))
<span class='no'>ret</span> <span class='kw'>&lt;-</span> <span class='fu'>PlotRsmOperatingCharacteristics</span>(<span class='kw'>mu</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>2</span>, <span class='fl'>3</span>), <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>1.5</span>), <span class='kw'>nu</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0.6</span>, <span class='fl'>0.8</span>),
   <span class='kw'>lesDistr</span> <span class='kw'>=</span> <span class='no'>lesDistr</span>, <span class='kw'>lesionWeights</span> <span class='kw'>=</span> <span class='no'>lesionWeights</span>,
   <span class='kw'>legendPosition</span> <span class='kw'>=</span> <span class='st'>"bottom"</span>, <span class='kw'>nlfRange</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>1</span>), <span class='kw'>llfRange</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>1</span>))
   <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/print'>print</a></span>(<span class='no'>ret</span>$<span class='no'>ROCPlot</span>)</div><div class='img'><img src='PlotRsmOperatingCharacteristics-1.png' alt='' width='700' height='433' /></div><div class='input'>   <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/print'>print</a></span>(<span class='no'>ret</span>$<span class='no'>AFROCPlot</span>)</div><div class='img'><img src='PlotRsmOperatingCharacteristics-2.png' alt='' width='700' height='433' /></div><div class='input'>   <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/print'>print</a></span>(<span class='no'>ret</span>$<span class='no'>wAFROCPlot</span>)</div><div class='img'><img src='PlotRsmOperatingCharacteristics-3.png' alt='' width='700' height='433' /></div><div class='input'>   <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/print'>print</a></span>(<span class='no'>ret</span>$<span class='no'>FROCPlot</span>)</div><div class='img'><img src='PlotRsmOperatingCharacteristics-4.png' alt='' width='700' height='433' /></div><div class='input'>## the FROC plot ends at NLF = 0.5 because for both treatments the physical lambdas are 0.5.

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Dev Chakraborty, Xuetong Zhai.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.1.0.9000.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

